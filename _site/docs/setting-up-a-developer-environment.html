<!DOCTYPE HTML>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Legalese</title>
    <meta name="description" content="Software is eating law.">
    <link href="/assets/img/20160713-b-sq.png" rel="shortcut icon" type="image/x-icon">
    <meta property="og:title" content="Legalese"><meta property="og:description" content="Software is eating law.">
    <meta property="og:image" content="/assets/img/20160713-b-sq.png">
    <meta property="og:site_name" content="Legalese">
    <link rel="stylesheet" href="/assets/css/bundle-hub.css">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <!--if lt IE 9script(src="http://html5shim.googlecode.com/svn/trunk/html5.js")
      -->
    <style type="text/css">.tk-alegreya{font-family:"alegreya",serif;}</style><style type="text/css">@font-face{font-family:alegreya;src:url(https://use.typekit.net/af/bd6f87/0000000000000000000148b6/27/l?primer=b997bcdf54b83a9f7b731c29130c4fbe326c83acb7cf220896c6041d3c02ba6a&fvd=i7&v=3) format("woff2"),url(https://use.typekit.net/af/bd6f87/0000000000000000000148b6/27/d?primer=b997bcdf54b83a9f7b731c29130c4fbe326c83acb7cf220896c6041d3c02ba6a&fvd=i7&v=3) format("woff"),url(https://use.typekit.net/af/bd6f87/0000000000000000000148b6/27/a?primer=b997bcdf54b83a9f7b731c29130c4fbe326c83acb7cf220896c6041d3c02ba6a&fvd=i7&v=3) format("opentype");font-weight:700;font-style:italic;}@font-face{font-family:alegreya;src:url(https://use.typekit.net/af/7c032f/0000000000000000000148b5/27/l?primer=b997bcdf54b83a9f7b731c29130c4fbe326c83acb7cf220896c6041d3c02ba6a&fvd=n7&v=3) format("woff2"),url(https://use.typekit.net/af/7c032f/0000000000000000000148b5/27/d?primer=b997bcdf54b83a9f7b731c29130c4fbe326c83acb7cf220896c6041d3c02ba6a&fvd=n7&v=3) format("woff"),url(https://use.typekit.net/af/7c032f/0000000000000000000148b5/27/a?primer=b997bcdf54b83a9f7b731c29130c4fbe326c83acb7cf220896c6041d3c02ba6a&fvd=n7&v=3) format("opentype");font-weight:700;font-style:normal;}</style><script>try{Typekit.load();}catch(e){}
</script><style>.theme-line header {  border-bottom-color: #132f4f;}.theme-line header a.btn {  background-color: #132f4f;}.theme-line header a.btn:hover {  background-color: #000000;}.theme-line header .navbar-nav a:hover ,.theme-line header .navbar-nav .open > a {  color: #132f4f;}.theme-line header .navbar-nav .tt-cursor {  background-color: #132f4f;}.theme-line .navbar-nav .active a {  font-weight: bold;  color: #2222BB;}.theme-line .navbar-nav .active a:hover {  color: #121265;}.theme-line .main-links .links a:hover {  color: #2222BB;}.theme-line .main-content a {  color: #2222BB;}.theme-line .main-content a:hover {  color: #121265;}.theme-line .sidebar-nav ul li a.active:before {  background-color: #2222BB;}.theme-line .sidebar-nav ul li a.active {  color: #2222BB;}.theme-line .sidebar-nav ul li a:hover,.theme-line .sidebar-nav ul li a.active:hover {  color: #121265;}.theme-line .btn-primary {  background-color: #2222BB;}.theme-line .btn-primary:hover {  background-color: #121265;}.theme-line .main-content .nav-horizontal a.active {  border-color: #2222BB;  color: #2222BB;}.theme-line .main-content .nav-horizontal a:hover {  color: #121265;}.theme-line .main-content .nav-horizontal a.active:hover {  border-color: #121265;}.theme-line header .navbar-nav a.active ,.theme-line #versions-list li a:hover strong,.theme-line #versions-list li a.active .current,.theme-line #versions-list li a:active .current {  color: #2222BB;}.theme-line.body-threes .section-right .threes-nav .btn-default:hover,.theme-line.page-docs.body-threes .section-right .threes-nav .pull-right a:hover {  color: #2222BB;  border-color: #2222BB;}.theme-solid header {  background-color: #132f4f;}.theme-solid.header-custom header a.btn {  background-color: #000000;}.theme-solid.header-custom header a.btn:hover {  background-color: #000000;}.theme-solid header .navbar-nav .dropdown-menu a:hover {  color: #2222BB;}.theme-line.lumosity-light header .navbar-nav a:hover,.theme-line.lumosity-light header .navbar-nav .open > a {  color: #2222BB;}.theme-line.lumosity-light header a.btn {  background-color: #2222BB;}.theme-line.lumosity-light header a.btn:hover {  background-color: #121265;}.theme-solid .main-links .links a:hover {  color: #2222BB;}.theme-solid .main-content a {  color: #2222BB;}.theme-solid .main-content a:hover {  color: #121265;}.theme-solid .sidebar-nav ul li a.active:before {  background-color: #2222BB;}.theme-solid .sidebar-nav ul li a.active {  color: #2222BB;}.theme-solid .sidebar-nav ul li a:hover,.theme-solid .sidebar-nav ul li a.active:hover {  color: #121265;}.theme-solid .btn-primary {  background-color: #2222BB;}.theme-solid .btn-primary:hover {  background-color: #121265;}.theme-solid .main-content .nav-horizontal a.active {  border-color: #2222BB;  color: #2222BB;}.theme-solid .main-content .nav-horizontal a:hover {  color: #121265;}.theme-solid .main-content .nav-horizontal a.active:hover {  border-color: #121265;}.theme-solid header .navbar-nav a.active ,.theme-solid #versions-list li a:hover strong,.theme-solid #versions-list li a.active .current,.theme-solid #versions-list li a:active .current {  color: #2222BB;}.theme-solid.body-threes .section-right .threes-nav .btn-default:hover,.theme-solid.page-docs.body-threes .section-right .threes-nav .pull-right a:hover {  color: #2222BB;  border-color: #2222BB;}.theme-solid.header-gradient header {  background: -moz-linear-gradient(top, #132f4f, #040a11);  background: -webkit-gradient(linear, left top, #132f4f, #040a11);  background: -webkit-linear-gradient(top, #132f4f, #040a11);  background: linear-gradient(to bottom, #132f4f, #040a11);}.theme-solid.header-custom .header {  background-image: url("undefined");  background-position: center center;}body {  font-family:helvetica;}h1, h2, h3, h4, h5, h6 {  font-family:alegreya;}.submit-vote.submit-vote-parent.voted a.submit-vote-button,.submit-vote.submit-vote-parent a.submit-vote-button:hover {  background-color: #2222BB;}div.submit-vote.submit-vote-parent.voted a.submit-vote-button:hover {  background-color: #121265;}a,.link .title {  color: #2222BB;}a:hover,.link:hover .title {  color: #121265;}.header h1.navbar-brand a {  background-image: url("https://files.readme.io/jNf2BQFfRdOeZrn4vfxq_20160713-w-sq.png")}.header h1.navbar-brand {  width: 40px;}
</style><style>/* For the top quote on the front page */
a:hover {
  text-decoration: underline;
  color: #2222EE;
}

.body-container {
  max-width: 1200px;
}

div.docs-content {
  max-width: 1100px;
}

div.main-content {
  max-width: 1200px;  
}

div.row {
  max-width: 1200px;
}


/* For slightly prettier margin */
div.block-content blockquote {
	margin-left: 20px;
  font-family: Palatino, serif;     
}

#techcrunchquote {
  display: block;
  margin: 0px auto;
  text-align: center;
  max-width: 88%;
  margin-top: 5pt;
}

/* To allow the content to flow a little wider (default 1100) */

.nav li {
  font-size: larger
}


/* for font-awesome icons */
.fa {
  font-size: larger;
}

/* for the titles in the callout boxes */
span.ng-binding {
  font-family: Helvetica, sans-serif;     
  font-size: larger;
}


/* For lawerly quotey bits */
div.oldtimey {
  font-family: Georgia, serif;
  font-size: 17px;
  text-align: justify;  
}

docs-header h1 {
  font-family: alegreya, serif;  
}

div.content {
  font-size: medium;
}

div.content h1 h2 h3 {
  font-variant: small-caps;
}


p {
  text-align: justify;
}

 h2 { letter-spacing: inherit; } 



.header #jumbotron p {
  font-family: Helvetica, sans-serif;
/*  font-weight: bold; */
  font-style: italic;
/*  padding-right: 10px; */
  margin-top: -10px;
  text-align: justify;
  font-size: 15pt;
  padding-bottom: 0;
  margin-bottom: 0;
  line-height: 1.2em;
}

.header #jumbotron {
  margin: 30px 70px 30px;
}

.header h2 {
  text-align: center;
  letter-spacing: 0.2em;
}

h1.legalesetitle {
  text-align: center;
  letter-spacing: 0.4em;
  font-size: 500%;
  color: #eeeeee;
}  

h1.subtitle {
  text-align: center;
  margin-top: -0.4em;
  font-style: italic;
  font-weight: bold;
  color: #eeeeee;
}

fancyblockquote {
  display:block;
  background: #fff;
  padding: 15px 20px 15px 45px;
  margin: 0 0 20px;
  position: relative;
  
  /*Font*/
  font-family: Georgia, serif;
  font-size: 20px;
  line-height: 1.2;
  color: #666;
  text-align: justify;
  
  /*Borders - (Optional)*/

  border-left: 15px solid #FFA62F;
  border-right: 2px solid #FFA62F;


  /*Box Shadow - (Optional)*/
  -moz-box-shadow: 2px 2px 15px #ccc;
  -webkit-box-shadow: 2px 2px 15px #ccc;
  box-shadow: 2px 2px 15px #ccc;
}

fancyblockquote .source {
  margin-top: 10px;
  text-align: right;
  display: block;
  font-style: italic;
}
fancyblockquote .source::before {
  content: "—";
  position: relative;
  top: -2px;
  font-size: small;
}

fancyblockquote::before{
  content: "\201C"; /*Unicode for Left Double Quote*/
  
  /*Font*/
  font-family: Georgia, serif;
  font-size: 50px;
  font-weight: bold;
  color: #999;
  
  /*Positioning*/
  position: absolute;
  left: 10px;
  top: 2px;
}

fancyblockquote::after{
  /*Reset to make sure*/
  content: "";
}

fancyblockquote a{
  text-decoration: none;
  background: #eee;
  cursor: pointer;
  padding: 0 3px;
  color: #c76c0c;
}


fancyblockquote em{
  font-style: italic;
}



.chat {
    width: 400px;
}

.bubble{
    background-color: #F2F2F2;
    border-radius: 5px;
    box-shadow: 0 0 6px #B2B2B2;
    display: inline-block;
    padding: 10px 18px;
    position: relative;
    vertical-align: top;
}

.bubble::before {
    background-color: #F2F2F2;
    content: "\00a0";
    display: block;
    height: 16px;
    position: absolute;
    top: 11px;
    transform:             rotate( 29deg ) skew( -35deg );
        -moz-transform:    rotate( 29deg ) skew( -35deg );
        -ms-transform:     rotate( 29deg ) skew( -35deg );
        -o-transform:      rotate( 29deg ) skew( -35deg );
        -webkit-transform: rotate( 29deg ) skew( -35deg );
    width:  20px;
}

.me {
    float: left;   
    margin: 5px 45px 5px 20px;         
}

.me::before {
    box-shadow: -2px 2px 2px 0 rgba( 178, 178, 178, .4 );
    left: -9px;           
}

.you {
    float: right;    
    margin: 5px 20px 5px 45px;         
}

.you::before {
    box-shadow: 2px -2px 2px 0 rgba( 178, 178, 178, .4 );
    right: -9px;    
}


div.li-inline p     { font-weight: bold; margin-bottom: 0; margin-top: 20px; }
div.li-inline ul    { list-style-type: disc; margin-top: 0 }
div.li-inline ul li { display: inline; line-height: 21pt; }
div.li-inline p.nobold { font-weight: normal; padding-left: 20px; }
div.li-inline li:not(:first-child)::before {
  content: "//";
  font-size: 17.5pt;
  position:relative;
  bottom:-3px;
  vertical-align: center;
  margin-right: 6pt;
  margin-left: 6pt;
}

/* Simplification so we don't always have to use the DIV */
ul.li-inline    { list-style-type: disc; margin-top: 0 }
ul.li-inline li { display: inline; line-height: 21pt; }
ul.li-inline li:not(:first-child)::before {
  content: "//";
  font-size: 17.5pt;
  position:relative;
  bottom:-3px;
  vertical-align: center;
  margin-right: 6pt;
  margin-left: 6pt;
}



div.byline span { visibility: hidden; }
div.byline :not(.ago) { visibility: hidden; }

/* This is ugly but I know of no other way to do it -VG*/
div.byline span.ago {
  margin-left: -60px;
  visibility: visible;
}</style><style type="text/css">
:root #header + #content > #left > #rlblock_left,
:root #content > #center > .dose > .dosesingle,
:root #content > #right > .dose > .dosesingle
{ display: none !important; }</style>

  </head>
  <div class="wrapper">
    <header id="header" class="header">
      <div class="container">
	<h1 class="navbar-brand"><a href="/">Legalese</a></h1>
	<div class="navbar-collapse collapse">
	  <ul class="nav navbar-nav">
	    <li><a href="/pages/past">Past</a></li>
	    <li><a href="/pages/present">Present</a></li>
	    <li><a href="/pages/future">Future</a></li>
	    <li><a href="/docs/getting-started">Documentation</a></li>
	  </ul>
	  <ul class="nav navbar-nav pull-right">
	    <li><a href="/blog/">Blog</a></li>
	    <li><a href="/pages/about">About</a></li>
	    <li><a href="/pages/contact">Contact</a></li>
	  </ul>
	</div>
	<meta name="Description" content="Law today is where software was in the 1950s: getting ready to make the jump from macros to compiled languages.  Legalese is an open-source project to draft legal documents the way modern programmers develop software.">
	<!--<h1 class="legalesetitle">LEGALESE.COM</h1>-->
      </div>
    </header>
  </div>


<body class="layout page-home body-box theme-solid header-gradient header-bg-size-auto header-bg-pos-tl header-overlay-map lumosity-dark undefined theme-threes ng-scope os-osx">
  <div class="container body-container">
    <div class="main-content">
      <div class="main-head">
	<div class="row">
	  <div class="col-sm-3 border-right section-left">
	    <div saveheight="1" class="sidebar-nav">
	      <h4>New Users</h4>
	      <ul>
		<li><a href="/docs/getting-started"><span>Getting Started with Legalese v1</span></a></li>
		<li><a href="/docs/general-info"><span>Version 1.0 User Guide</span></a></li>
		<li><a href="/docs/first-time-fundraising"><span>First-Time Fundraising</span></a></li>
		<li><a href="/docs/hello-future-lexdevs"><span>Hello Future LexDevs!</span></a></li>
	      </ul>
	      <h4>Demos</h4>
	      <ul>
		<li><a href="/docs/angel-investment"><span>An Angel Leads an Investment</span></a></li>
		<li><a href="/docs/three-founders-incorporate-a-company"><span>Three Founders Incorporate a Company</span></a></li>
	      </ul>
	      <h4>Product Tutorials</h4>
	      <ul>
		<li><a href="/docs/1-hello-world"><span>Hello, World!</span></a></li>
		<li><a href="/docs/2-send-for-signature"><span>Send for Signature</span></a></li>
		<li><a href="/docs/3-a-real-nondisclosure-agreement"><span>A Real Nondisclosure Agreement</span></a></li>
		<li><a href="/docs/4-introducing-docsets"><span>Introducing Docsets</span></a></li>
		<li><a href="/docs/5-incorporation"><span>Incorporation</span></a></li>
		<li><a href="/docs/an-investment-round"><span>An Investment Round</span></a></li>
		<li><a href="/docs/6-developing-your-own-templates"><span>Tweaking an Existing Template</span></a></li>
		<li><a href="/docs/7-creating-a-template-from-scratch"><span>Creating a Template from Scratch</span></a></li>
		<li><a href="/docs/8-forking-the-legalese-codebase"><span>Forking the Legalese Codebase</span></a></li>
		<li><a href="/docs/9-submitting-patches"><span>Submitting Code Patches</span></a></li>
		<li><a href="/docs/10-submitting-template-patches"><span>Submitting Template Patches</span></a></li>
		<li><a href="/docs/11-tweaking-xml-pdf-workflow"><span>Tweaking XML-&gt;PDF workflow</span></a></li>
		<li><a href="/docs/12-third-party-plugins"><span>Third-party Plugins</span></a></li>
	      </ul>
	      <h4>The Company</h4>
	      <ul>
		<li><a href="/docs/howto-earn-the-org-designer-badge"><span>HOWTO Earn the Org Designer Badge</span></a></li>
		<li><a href="/docs/howto-earn-the-canon-reader-badge"><span>HOWTO Earn the Canon Reader Badge</span></a></li>
		<li><a href="/docs/why-a-declarative-functional-dsl"><span>Why a Declarative, Functional DSL?</span></a></li>
	      </ul>
	      <h4>Developers</h4>
	      <ul>
		<li><a href="/docs/setting-up-a-developer-environment"><span>Setting up a Developer Environment</span></a></li>
		<li><a href="/docs/test-input"><span>Google Apps and GitHub</span></a></li>
		<li><a href="/docs/echosign"><span>EchoSign integration</span></a></li>
	      </ul>
	    </div>
	  </div>
	  <div class="col-sm-9 border-left section-right">
	    <div class="docs-content">
	      <div class="docs-header">
		<h1>Setting up a Developer Environment</h1>
	      </div>
	      <div class="docs-body">
		<div class="content block-content ready">
		  <div class="blocks-parent">
		    
		    <p>This page describes the version 1.0 codebase, and comes from the original <code class="highlighter-rouge">README.org</code> on legalese-google-app.
To start hacking on the Google App internals, you need to set up a development environment.</p>

<h2 id="clone-a-company-spreadsheet">Clone a Company Spreadsheet<a id="sec-2-1" name="sec-2-1"></a></h2>

<p>First, clone the <em><a href="https://docs.google.com/spreadsheets/d/1rBuKOWSqRE7QgKgF6uVWR9www4LoLho4UjOCHPQplhw/edit#gid=790633300">Legalese Demo Master</a></em> if you haven’t already. (If you ran the tutorial, you should have cloned it.) To clone it, click on <em>File/Make a Copy</em>. Customize it with the name of some made up company. We will call your copy of the Demo Master a <em>Company Spreadsheet</em>.</p>

<h2 id="clone-the-legalesemain-library">Clone the LegaleseMain library.<a id="sec-2-2" name="sec-2-2"></a></h2>

<p>Open the <a href="https://script.google.com/a/legalese.io/d/1CaOAsbTSaLPxh2X2CBmSyKhgOw4lVs8f_YoIPDqQp_5YHnsMG2gOgNdD/edit?usp=drive_web">LegaleseMain</a> library. That’s the <a href="https://script.google.com/a/legalese.io/d/1CaOAsbTSaLPxh2X2CBmSyKhgOw4lVs8f_YoIPDqQp_5YHnsMG2gOgNdD/edit?usp=drive_web">official production library</a>. You don’t want to mess with that for development.</p>

<p>Go to <em>File/Make a Copy</em>. Now you have a <code class="highlighter-rouge">Copy of LegaleseMain</code>. That’s the version you will edit.</p>

<p>Close the tab for the original LegaleseMain library.</p>

<p>In your copy of LegaleseMain, go to <em>File/Manage Versions</em>. Give your version a name like “init”, then <code class="highlighter-rouge">Save New Version</code>.</p>

<p>Open <em>File/Project Properties</em>. Copy the “project key”. It should look something like <code class="highlighter-rouge">M6YlbsVrWR18KeWvO Mc3708UQWaHMB8in</code>. If you are lazy you can try grabbing the document ID out of the URL bar but that’s not officially supported.</p>

<h2 id="point-your-cloned-company-spreadsheet-at-your-cloned-copy-of-legalesemain">Point your cloned Company Spreadsheet at your cloned Copy of LegaleseMain.<a id="sec-2-3" name="sec-2-3"></a></h2>

<p>Each Company Spreadsheet has an associated Google Apps Script, which you can get to from <em>Tools/Script Editor</em>.</p>

<p>That <em>Company Script</em> comes from <code class="highlighter-rouge">code.js</code>. It doesn’t do much; all the heavy lifting happens inside the LegaleseMain script.</p>

<p>Click on <em>Libraries/Resources</em>.</p>

<p><code class="highlighter-rouge">Remove</code> the existing import of LegaleseMain.</p>

<p>Paste the project key into the <code class="highlighter-rouge">Find a Library</code> box at the bottom of the dialog. Press <code class="highlighter-rouge">select</code>.</p>

<p>Set the <code class="highlighter-rouge">identifier</code> to <code class="highlighter-rouge">legaleseMain</code>.</p>

<p>Turn on Development Mode.</p>

<p>Hit <code class="highlighter-rouge">Save</code>.</p>

<h2 id="try-running-the-cloned-incorporation-tab">Try running the cloned Incorporation tab.<a id="sec-2-4" name="sec-2-4"></a></h2>

<p>Go to your cloned Company Spreadsheet. Reload the browser tab, because the script changed.</p>

<p>Go to the Incorporation sheet. You can find it at the bottom row of tabs. Click on <em>Add-ons/Generate PDFs</em>. Google will ask you to authorize the app. Allow.</p>

<p>When the script finishes, an output link should appear in cell E6. Open that link. You should see a bunch of XMLs. Yay! Your cloned Company Spreadsheet is working well against your cloned LegaleseMain library. In a few minutes those XMLs should turn into PDFs.</p>

<h2 id="it-didnt-work">It Didn’t Work.<a id="sec-2-5" name="sec-2-5"></a></h2>

<p>This section will accumulate Tips &amp; Tricks for handling common failure scenarios along the way to setting up a development environment.</p>

<h2 id="try-tweaking-your-cloned-legalesemain-library">Try Tweaking Your Cloned LegaleseMain library.<a id="sec-2-6" name="sec-2-6"></a></h2>

<p>With your development copy of the LegaleseMain library open, go to the <code class="highlighter-rouge">LegaleseMain.js</code> tab. In the vicinity of Line 88 you should see a commented out DoNothing. Uncomment it. Reload your Company Spreadsheet.</p>

<p>If you see the new DoNothing, and calling that function works, then you are now able to make bigger edits! Yay!</p>

<h1 id="howto-push-a-new-version-of-the-library-to-production">HOWTO push a new version of the library to production<a id="sec-3" name="sec-3"></a></h1>

<h2 id="make-sure-it-works-in-development">Make sure it works in development<a id="sec-3-1" name="sec-3-1"></a></h2>

<p>In your personal development environment you should be confident that your new library code works.</p>

<h2 id="run-the-test-suite-on-dev">Run the test suite on dev<a id="sec-3-2" name="sec-3-2"></a></h2>

<p>In the glorious future we will have a test suite that gives us this confidence.</p>

<h2 id="paste-the-new-version-of-your-library-code-into-the-production-legalesemain">Paste the new version of your library code into the production <a href="https://script.google.com/a/jfdi.asia/d/1CaOAsbTSaLPxh2X2CBmSyKhgOw4lVs8f_YoIPDqQp_5YHnsMG2gOgNdD/edit?usp=drive_web">LegaleseMain</a>.<a id="sec-3-3" name="sec-3-3"></a></h2>

<p>If you do not have edit rights to this file, you may have to talk to Meng.</p>

<h2 id="under-filemanage-versions-snapshot-a-new-version">Under <em>File/Manage Versions</em>, snapshot a new version<a id="sec-3-4" name="sec-3-4"></a></h2>

<p>Give it a descriptive name.</p>

<h2 id="run-the-test-suite-on-production">Run the test suite on production<a id="sec-3-5" name="sec-3-5"></a></h2>

<p>Is a test suite available? if not, the Glorious Future has not yet arrived.</p>

<h2 id="if-the-test-suite-is-not-available-test-manually-using-the-tutorial">If the test suite is not available, test manually using the tutorial.<a id="sec-3-6" name="sec-3-6"></a></h2>

<p>Test it by hand by running through the tutorial as a brand new user.</p>

<p>After cloning the Legalese Demo Master to run the tutorial, under Tools / Script Editor … Resources / Libraries, import the latest version of the tutorial.</p>

<p>(You might not need to do this, especially if Development Mode is turned on, but it doesn’t hurt.)</p>

<p>If the tutorial doesn’t work using the latest version of the script, go back and fix it in dev.</p>

<h2 id="update-the-demo-masters-library-version">Update the Demo Master’s library version<a id="sec-3-7" name="sec-3-7"></a></h2>

<p>If the tutorial does work using the latest version of the script, then:</p>

<p>In the <a href="https://script.google.com/a/jfdi.asia/macros/d/MOvtp1yA4TI3Xrsv4up74DcUQWaHMB8in/edit?uiv=2&amp;mid=ACjPJvF9VLsvHVoGr7KS_JoRwV78ZMohPaEVG9eADoZumpbHRQ5WTTzLPOstHU6pu-N5vaOywUgDQPNz5zHN4W0zYq-uhrFJjS6TBCRjn4oWzeu6mCI9ts4VBI6PW8wMXUUrf08D3bPO1c8">script for the production Legalese Demo Master</a>, click on <em>Resources/Libraries</em> and update the library import to the latest version.</p>

<h2 id="youre-done">You’re done!<a id="sec-3-8" name="sec-3-8"></a></h2>

<h1 id="howto-debug-your-script">HOWTO debug your script<a id="sec-4" name="sec-4"></a></h1>

<p>If you’re getting a red error message when you run a script, grab the logs before they disappear.</p>

<p>Open <em>Tools / Script Editor</em>.</p>

<p>In the script source interface, open <em>View/Logs</em>. Copy and paste those logs to a text file or email somewhere.</p>

<p>In the script source interface, open <em>View/Execution Transcript</em>. Copy and paste the execution transcript.</p>

<p>The logs are output by Logger.log calls. (In Legalese, <code class="highlighter-rouge">xxLog</code> wrappers are defined in each <code class="highlighter-rouge">.js</code> library; see the bottom of <code class="highlighter-rouge">util.js</code>.)</p>

<p>The execution transcript is output by the Google Apps Script system itself.</p>

<p>Usually, the cause of the red error message of death can be found at the bottom of either the logs or the execution transcript, because that’s where Google Apps Script gave up.</p>

<p>If you’re reporting a bug to a developer, using email or a Github issue, please include both the logs and the execution transcript as attachments in your bug report, and also include the last few lines of both in the body of your report.</p>

<h2 id="my-error-is-inside-an-xml-template">My error is inside an XML template!<a id="sec-4-1" name="sec-4-1"></a></h2>

<p>If the error message brings you to <code class="highlighter-rouge">templates.js</code>, to the line reading</p>

<div class="highlighter-rouge"><pre class="highlight"><code>var filledHTML = newTemplate.evaluate().setSandboxMode(HtmlService.SandboxMode.IFRAME).getContent();
</code></pre>
</div>

<p>Then the error lies inside an XML template instead of a <code class="highlighter-rouge">.js</code> library. In that case, see <a href="https://developers.google.com/apps-script/guides/html/templates#debugging_templates">Google Apps on Debugging Templates</a>, and good luck on your adventure.</p>

<h2 id="the-logs-dont-show-me-enough">The logs don’t show me enough!<a id="sec-4-2" name="sec-4-2"></a></h2>

<p>Logs and execution transcripts get truncated; the buffer is only so big.</p>

<p>Go into <code class="highlighter-rouge">util.js</code> in your development version of <code class="highlighter-rouge">LegaleseMain</code>. You will find a <code class="highlighter-rouge">myLogConfig</code> object which determines the <em>Log Filter Level</em> for each module.</p>

<p>By default, the log filter level is 6. Any log lines with level 1, 2, 3, 4, 5, 6 will appear in the logs.</p>

<p>Inside your module, <code class="highlighter-rouge">xxLog</code> calls can pass an optional log level parameter. The default log level is 7.</p>

<p>Only unusual or important events are logged with a level below 7.</p>

<p>Routine events are logged with 8 or above.</p>

<p>If you want to debug a particular module, you probably want to view its log events, selectively and temporarily.</p>

<p>In <code class="highlighter-rouge">util.js</code>, change the log filter level for your desired module to 8. Don’t do this in the Git repository; do this in your running instance of LegaleseMain, inside the <code class="highlighter-rouge">util.js</code> module.</p>

<p>Reduce the log filter level of the other modules accordingly to mute them.</p>

<h1 id="about-the-company-spreadsheet">About the Company Spreadsheet<a id="sec-5" name="sec-5"></a></h1>

<p>A Legalese Company Spreadsheet contains one or more sheets, appearing as tabs:</p>

<ul>
  <li>Entities</li>
  <li>Cap Table</li>
  <li>Incorporation</li>
  <li>Seed Round</li>
  <li>More Rounds</li>
</ul>

<p>If you cloned the Legalese Demo Master, you will have something that looks like this.</p>

<h2 id="the-bound-legalese-script">The Bound Legalese Script<a id="sec-5-1" name="sec-5-1"></a></h2>

<p>In any Legalese Company Spreadsheet, if you go to <strong>Tools / Script Editor</strong>, you will see a bunch of code. This code references the LegaleseMain Library.</p>

<h3 id="in-the-future-we-will-release-legalese-as-a-google-add-on-proper">In the future we will release Legalese as a Google Add-On proper.<a id="sec-5-1-1" name="sec-5-1-1"></a></h3>

<p>Then the script won’t be bound.</p>

<h2 id="legalesemainjs">legaleseMain.js<a id="sec-5-2" name="sec-5-2"></a></h2>

<p><a href="https://script.google.com/a/jfdi.asia/d/1CaOAsbTSaLPxh2X2CBmSyKhgOw4lVs8f_YoIPDqQp_5YHnsMG2gOgNdD/edit?usp=drive_web">https://script.google.com/a/jfdi.asia/d/1CaOAsbTSaLPxh2X2CBmSyKhgOw4lVs8f_YoIPDqQp_5YHnsMG2gOgNdD/edit?usp=drive_web</a></p>

<p>Every time you update a component, you will need to copy that component from your local editor into the Google App.</p>

<h2 id="library-version-management">Library Version Management<a id="sec-5-3" name="sec-5-3"></a></h2>

<p>If you make a significant change, you will need to, under Manage Versions, save a new version of the LegaleseMain library.</p>

<p>Then you MUST go to the Legalese Demo Master and in its <strong>Tools / Script Editor</strong> update the lirbray version.</p>

<h2 id="legalesesignaturejs">legaleseSignature.js<a id="sec-5-4" name="sec-5-4"></a></h2>

<p>At present this only works for Meng’s account to insert things into EchoSign. It contains his application keys and is therefore not really public.</p>

<h2 id="makefile">Makefile<a id="sec-5-5" name="sec-5-5"></a></h2>

<p>the Makefile inserts Meng’s application keys into the actual built legaleseSignature.js.</p>

<h1 id="parsing-spreadsheets">Parsing Spreadsheets<a id="sec-6" name="sec-6"></a></h1>

<p>Getting data from a spreadsheet into an internal Javascript representation is the job of a bunch of parsing modules.</p>

<h2 id="captablejs">captable.js<a id="sec-6-1" name="sec-6-1"></a></h2>

<h2 id="readrowsjs">readrows.js<a id="sec-6-2" name="sec-6-2"></a></h2>

<h2 id="templatesjs">templates.js<a id="sec-6-3" name="sec-6-3"></a></h2>

<h1 id="user-interface-sugar">User Interface Sugar<a id="sec-7" name="sec-7"></a></h1>

<p>We make it easy for parties to fill in their details.</p>

<h2 id="formjs">form.js<a id="sec-7-1" name="sec-7-1"></a></h2>

<h1 id="the-controller">The Controller<a id="sec-8" name="sec-8"></a></h1>

<p>End-users usually run commands like <strong>Add-Ons / Legalese / Generate PDFs</strong> directly from the relevant tab of the spreadsheet.</p>

<p>But an administrator who manages several deals or companies at the same time may find it easier to use the Controller interface.</p>

<p>In the Controller, all tabs are listed on a single spreadsheet.</p>

<p>When a command is run, and the current sheet is a controller sheet, the command operates on whatever row is selected. More than one row may be selected.</p>

<h2 id="controllerjs">controller.js<a id="sec-8-1" name="sec-8-1"></a></h2>

<h1 id="utilities">Utilities<a id="sec-9" name="sec-9"></a></h1>

<h2 id="utiljs">util.js<a id="sec-9-1" name="sec-9-1"></a></h2>

<h2 id="formatjs">format.js<a id="sec-9-2" name="sec-9-2"></a></h2>

<h2 id="linguajs">lingua.js<a id="sec-9-3" name="sec-9-3"></a></h2>

<h2 id="owljs">owl.js<a id="sec-9-4" name="sec-9-4"></a></h2>

<h1 id="unused-or-under-development">Unused or under development<a id="sec-10" name="sec-10"></a></h1>

<h2 id="dependenciesjs">dependencies.js<a id="sec-10-1" name="sec-10-1"></a></h2>

<h2 id="unusedjs">unused.js<a id="sec-10-2" name="sec-10-2"></a></h2>

<h2 id="drawcompanys">drawCompany.s<a id="sec-10-3" name="sec-10-3"></a></h2>

<h2 id="svgjs">svg.js<a id="sec-10-4" name="sec-10-4"></a></h2>

<h2 id="esopjs">esop.js<a id="sec-10-5" name="sec-10-5"></a></h2>


		  </div>
		</div>
	      </div>
	    </div>
	  </div>
	</div>
      </div>
    </div>
  </div> 

</body>
</html>
